"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_lodash=require("lodash");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var AltTypes=function(){function a(b){for(var d in _classCallCheck(this,a),this.types=Object.assign({},this.constructor.TYPES),b)if(!d.match(/^_/)){var c=b[d];this.types[d]=this.constructor._toType(c)}}return _createClass(a,[{key:"sample",value:function b(a){return this.has(a)?this.types[a]():null}},{key:"has",value:function b(a){return!!this.types[a]}},{key:"cast",value:function c(a,b){return this.has(a)?0<=["b","boolean"].indexOf(a)?!!(0<=["true","1","yes",!0].indexOf(b)):0<=["i","integer"].indexOf(a)?parseInt(b):0<=["n","number"].indexOf(a)?parseFloat(b):b:null}// opts = { path, json, parent }
},{key:"check",value:function d(a,b,c){return!!this.has(a)&&this.types[a](b,c)}},{key:"show",value:function b(){var a={};for(var c in this.types)a[c]=this.types[c]();return a}}],[{key:"_toType",value:function b(a){return(0,_lodash.isArray)(a)?a=function(a){return function(b){return void 0===b?a[0|Math.random()*a.length]:!(0,_lodash.isString)(b)||0<=a.indexOf(b)}}(a):(0,_lodash.isRegExp)(a)&&(a=function(a){return function(b){return void 0===b?a.source.replace(/\\(.)/g,"$1"):!(0,_lodash.isString)(b)||a.test(b)}}(a)),a}},{key:"extend",value:function b(a){for(var c in a)this.TYPES[c]=this._toType(a[c])}},{key:"toSchema",value:function b(a){return null===a?"?":void 0===a?"?":(0,_lodash.isArray)(a)?"array":(0,_lodash.isObject)(a)?"object":(0,_lodash.isString)(a)?"s":(0,_lodash.isInteger)(a)?"i":(0,_lodash.isBoolean)(a)?"b":(0,_lodash.isNumber)(a)?"n":(0,_lodash.isFunction)(a)?"f":"?"}}]),a}();AltTypes.TYPES={s:function b(a){return void 0===a?"":(0,_lodash.isString)(a)},string:function b(a){return void 0===a?"":(0,_lodash.isString)(a)},n:function b(a){return void 0===a?0:(0,_lodash.isNumber)(a)},number:function b(a){return void 0===a?0:(0,_lodash.isNumber)(a)},b:function c(a){return void 0===a||(0,_lodash.isBoolean)(a)},boolean:function b(a){return void 0===a||(0,_lodash.isBoolean)(a)},i:function b(a){return void 0===a?0:(0,_lodash.isInteger)(a)},integer:function b(a){return void 0===a?0:(0,_lodash.isInteger)(a)},f:function b(a){return void 0===a?function(){}:(0,_lodash.isFunction)(a)},function:function b(a){return void 0===a?function(){}:(0,_lodash.isFunction)(a)}},exports.default=AltTypes,module.exports=exports.default;